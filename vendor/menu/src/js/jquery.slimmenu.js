(function(a,h,c,g){var f="slimmenu",d=0,b={resizeWidth:"991",initiallyVisible:false,collapserTitle:"&nbsp",animSpeed:"medium",easingEffect:null,indentChildren:false,childrenIndenter:"&nbsp;&nbsp;",expandIcon:'<i class="fa fa-caret-down" aria-hidden="true"></i>',collapseIcon:'<i class="fa fa-caret-up" aria-hidden="true"></i>'};function e(i,j){this.element=i;this.$elem=a(this.element);this.options=a.extend(b,j);this.init()}e.prototype={init:function(){var l=a(h),m=this.options,j=this.$elem,i='<div class="menu-collapser">'+m.collapserTitle+'<div class="collapse-button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div></div>',k;j.before(i);k=j.prev(".menu-collapser");j.on("click",".sub-toggle",function(o){o.preventDefault();o.stopPropagation();var n=a(this).closest("li");if(a(this).hasClass("expanded")){a(this).removeClass("expanded").html(m.expandIcon);n.find(">ul").slideUp(m.animSpeed,m.easingEffect)}else{a(this).addClass("expanded").html(m.collapseIcon);n.find(">ul").slideDown(m.animSpeed,m.easingEffect)}});k.on("click",".collapse-button",function(n){n.preventDefault();j.slideToggle(m.animSpeed,m.easingEffect)});this.resizeMenu();l.on("resize",this.resizeMenu.bind(this));l.trigger("resize")},resizeMenu:function(){var m=this,l=a(h),n=l.width(),k=this.options,i=a(this.element),j=a("body").find(".menu-collapser");if(h.innerWidth!==g){if(h.innerWidth>n){n=h.innerWidth}}if(n!=d){d=n;i.find("li").each(function(){if(a(this).has("ul").length){if(a(this).addClass("has-submenu").has(".sub-toggle").length){a(this).children(".sub-toggle").html(k.expandIcon)}else{a(this).addClass("has-submenu").append('<span class="sub-toggle">'+k.expandIcon+"</span>")}}a(this).children("ul").hide().end().find(".sub-toggle").removeClass("expanded").html(k.expandIcon)});if(k.resizeWidth>=n){if(k.indentChildren){i.find("ul").each(function(){var o=a(this).parents("ul").length;if(!a(this).children("li").children("a").has("i").length){a(this).children("li").children("a").prepend(m.indent(o,k))}})}i.addClass("collapsed").find("li").has("ul").off("mouseenter mouseleave");j.show();if(!k.initiallyVisible){i.hide()}}else{i.find("li").has("ul").on("mouseenter",function(){a(this).find(">ul").stop().slideDown(k.animSpeed,k.easingEffect)}).on("mouseleave",function(){a(this).find(">ul").stop().slideUp(k.animSpeed,k.easingEffect)});i.find("li > a > i").remove();i.removeClass("collapsed").show();j.hide()}}},indent:function(l,m){var k=0,j="";for(;k<l;k++){j+=m.childrenIndenter}return"<i>"+j+"</i> "}};a.fn[f]=function(i){return this.each(function(){if(!a.data(this,"plugin_"+f)){a.data(this,"plugin_"+f,new e(this,i))}})}}(jQuery,window,document));