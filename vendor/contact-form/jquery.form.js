/*
 * jQuery Form Plugin
 * version: 3.32.0-2013.04.09
 * @requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(a){var d={};d.fileapi=a("<input type='file'/>").get(0).files!==undefined;d.formdata=window.FormData!==undefined;var e=!!a.fn.prop;a.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};a.fn.ajaxSubmit=function(z){if(!this.length){f("ajaxSubmit: skipping submit process - no element selected");return this}var v,i,E,g=this;if(typeof z=="function"){z={success:z}}v=this.attr2("method");i=this.attr2("action");E=(typeof i==="string")?a.trim(i):"";E=E||window.location.href||"";if(E){E=(E.match(/^([^#]+)/)||[])[1]}z=a.extend(true,{url:E,success:a.ajaxSettings.success,type:v||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},z);var F={};this.trigger("form-pre-serialize",[this,z,F]);if(F.veto){f("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(z.beforeSerialize&&z.beforeSerialize(this,z)===false){f("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var D=z.traditional;if(D===undefined){D=a.ajaxSettings.traditional}var m=[];var B,h=this.formToArray(z.semantic,m);if(z.data){z.extraData=z.data;B=a.param(z.data,D)}if(z.beforeSubmit&&z.beforeSubmit(h,this,z)===false){f("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[h,this,z,F]);if(F.veto){f("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var A=a.param(h,D);if(B){A=(A?(A+"&"+B):B)}if(z.type.toUpperCase()=="GET"){z.url+=(z.url.indexOf("?")>=0?"&":"?")+A;z.data=null}else{z.data=A}var j=[];if(z.resetForm){j.push(function(){g.resetForm()})}if(z.clearForm){j.push(function(){g.clearForm(z.includeHidden)})}if(!z.dataType&&z.target){var y=z.success||function(){};j.push(function(k){var q=z.replaceTarget?"replaceWith":"html";a(z.target)[q](k).each(y,arguments)})}else{if(z.success){j.push(z.success)}}z.success=function(q,I,J){var k=z.context||this;for(var G=0,H=j.length;G<H;G++){j[G].apply(k,[q,I,J||g,g])}};var o=a('input[type=file]:enabled[value!=""]',this);var s=o.length>0;var w="multipart/form-data";var x=(g.attr("enctype")==w||g.attr("encoding")==w);var n=d.fileapi&&d.formdata;f("fileAPI :"+n);var C=(s||x)&&!n;var t;if(z.iframe!==false&&(z.iframe||C)){if(z.closeKeepAlive){a.get(z.closeKeepAlive,function(){t=p(h)})}else{t=p(h)}}else{if((s||x)&&n){t=r(h)}else{t=a.ajax(z)}}g.removeData("jqxhr").data("jqxhr",t);for(var u=0;u<m.length;u++){m[u]=null}this.trigger("form-submit-notify",[this,z]);return this;function l(k){var J=a.param(k).split("&");var G=J.length;var I=[];var q,H;for(q=0;q<G;q++){J[q]=J[q].replace(/\+/g," ");H=J[q].split("=");I.push([decodeURIComponent(H[0]),decodeURIComponent(H[1])])}return I}function r(k){var G=new FormData();for(var H=0;H<k.length;H++){G.append(k[H].name,k[H].value)}if(z.extraData){var J=l(z.extraData);for(H=0;H<J.length;H++){if(J[H]){G.append(J[H][0],J[H][1])}}}z.data=null;var I=a.extend(true,{},a.ajaxSettings,z,{contentType:false,processData:false,cache:false,type:v||"POST"});if(z.uploadProgress){I.xhr=function(){var K=jQuery.ajaxSettings.xhr();if(K.upload){K.upload.addEventListener("progress",function(L){var M=0;var N=L.loaded||L.position;var O=L.total;if(L.lengthComputable){M=Math.ceil(N/O*100)}z.uploadProgress(L,N,O,M)},false)}return K}}I.data=null;var q=I.beforeSend;I.beforeSend=function(L,K){K.data=G;if(q){q.call(this,L,K)}};return a.ajax(I)}function p(q){var R=g[0],Q,V,aa,S,W,k,X,ag,ac,Y,ad,ae;var M=a.Deferred();if(q){for(V=0;V<m.length;V++){Q=a(m[V]);if(e){Q.prop("disabled",false)}else{Q.removeAttr("disabled")}}}aa=a.extend(true,{},a.ajaxSettings,z);aa.context=aa.context||aa;W="jqFormIO"+(new Date().getTime());if(aa.iframeTarget){k=a(aa.iframeTarget);Y=k.attr2("name");if(!Y){k.attr2("name",W)}else{W=Y}}else{k=a('<iframe name="'+W+'" src="'+aa.iframeSrc+'" />');k.css({position:"absolute",top:"-1000px",left:"-1000px"})}X=k[0];ag={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ah=(aj==="timeout"?"timeout":"aborted");f("aborting upload... "+ah);this.aborted=1;try{if(X.contentWindow.document.execCommand){X.contentWindow.document.execCommand("Stop")}}catch(ai){}k.attr("src",aa.iframeSrc);ag.error=ah;if(aa.error){aa.error.call(aa.context,ag,ah,aj)}if(S){a.event.trigger("ajaxError",[ag,aa,ah])}if(aa.complete){aa.complete.call(aa.context,ag,ah)}}};S=aa.global;if(S&&0===a.active++){a.event.trigger("ajaxStart")}if(S){a.event.trigger("ajaxSend",[ag,aa])}if(aa.beforeSend&&aa.beforeSend.call(aa.context,ag,aa)===false){if(aa.global){a.active--}M.reject();return M}if(ag.aborted){M.reject();return M}ac=R.clk;if(ac){Y=ac.name;if(Y&&!ac.disabled){aa.extraData=aa.extraData||{};aa.extraData[Y]=ac.value;if(ac.type=="image"){aa.extraData[Y+".x"]=R.clk_x;aa.extraData[Y+".y"]=R.clk_y}}}var I=1;var ab=2;function T(aj){var ah=null;try{if(aj.contentWindow){ah=aj.contentWindow.document}}catch(ai){f("cannot get iframe.contentWindow document: "+ai)}if(ah){return ah}try{ah=aj.contentDocument?aj.contentDocument:aj.document}catch(ai){f("cannot get iframe.contentDocument: "+ai);ah=aj.document}return ah}var K=a("meta[name=csrf-token]").attr("content");var J=a("meta[name=csrf-param]").attr("content");if(J&&K){aa.extraData=aa.extraData||{};aa.extraData[J]=K}function P(){var an=g.attr2("target"),ah=g.attr2("action");R.setAttribute("target",W);if(!v){R.setAttribute("method","POST")}if(ah!=aa.url){R.setAttribute("action",aa.url)}if(!aa.skipEncodingOverride&&(!v||/post/i.test(v))){g.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(aa.timeout){ae=setTimeout(function(){ad=true;H(I)},aa.timeout)}function ai(){try{var ap=T(X).readyState;f("state = "+ap);if(ap&&ap.toLowerCase()=="uninitialized"){setTimeout(ai,50)}}catch(ao){f("Server abort: ",ao," (",ao.name,")");H(ab);if(ae){clearTimeout(ae)}ae=undefined}}var ak=[];try{if(aa.extraData){for(var al in aa.extraData){if(aa.extraData.hasOwnProperty(al)){if(a.isPlainObject(aa.extraData[al])&&aa.extraData[al].hasOwnProperty("name")&&aa.extraData[al].hasOwnProperty("value")){ak.push(a('<input type="hidden" name="'+aa.extraData[al].name+'">').val(aa.extraData[al].value).appendTo(R)[0])}else{ak.push(a('<input type="hidden" name="'+al+'">').val(aa.extraData[al]).appendTo(R)[0])}}}}if(!aa.iframeTarget){k.appendTo("body");if(X.attachEvent){X.attachEvent("onload",H)}else{X.addEventListener("load",H,false)}}setTimeout(ai,15);try{R.submit()}catch(aj){var am=document.createElement("form").submit;am.apply(R)}}finally{R.setAttribute("action",ah);if(an){R.setAttribute("target",an)}else{g.removeAttr("target")}a(ak).remove()}}if(aa.forceSync){P()}else{setTimeout(P,10)}var L,N,O=50,G;function H(ak){if(ag.aborted||G){return}N=T(X);if(!N){f("cannot access response document");ak=ab}if(ak===I&&ag){ag.abort("timeout");M.reject(ag,"timeout");return}else{if(ak==ab&&ag){ag.abort("server abort");M.reject(ag,"error","server abort");return}}if(!N||N.location.href==aa.iframeSrc){if(!ad){return}}if(X.detachEvent){X.detachEvent("onload",H)}else{X.removeEventListener("load",H,false)}var aq="success",am;try{if(ad){throw"timeout"}var an=aa.dataType=="xml"||N.XMLDocument||a.isXMLDoc(N);f("isXml="+an);if(!an&&window.opera&&(N.body===null||!N.body.innerHTML)){if(--O){f("requeing onLoad callback, DOM not available");setTimeout(H,250);return}}var ai=N.body?N.body:N.documentElement;ag.responseText=ai?ai.innerHTML:null;ag.responseXML=N.XMLDocument?N.XMLDocument:N;if(an){aa.dataType="xml"}ag.getResponseHeader=function(at){var au={"content-type":aa.dataType};return au[at]};if(ai){ag.status=Number(ai.getAttribute("status"))||ag.status;ag.statusText=ai.getAttribute("statusText")||ag.statusText}var aj=(aa.dataType||"").toLowerCase();var ap=/(json|script|text)/.test(aj);if(ap||aa.textarea){var ar=N.getElementsByTagName("textarea")[0];if(ar){ag.responseText=ar.value;ag.status=Number(ar.getAttribute("status"))||ag.status;ag.statusText=ar.getAttribute("statusText")||ag.statusText}else{if(ap){var ao=N.getElementsByTagName("pre")[0];var ah=N.getElementsByTagName("body")[0];if(ao){ag.responseText=ao.textContent?ao.textContent:ao.innerText}else{if(ah){ag.responseText=ah.textContent?ah.textContent:ah.innerText}}}}}else{if(aj=="xml"&&!ag.responseXML&&ag.responseText){ag.responseXML=af(ag.responseText)}}try{L=U(ag,aj,aa)}catch(al){aq="parsererror";ag.error=am=(al||aq)}}catch(al){f("error caught: ",al);aq="error";ag.error=am=(al||aq)}if(ag.aborted){f("upload aborted");aq=null}if(ag.status){aq=(ag.status>=200&&ag.status<300||ag.status===304)?"success":"error"}if(aq==="success"){if(aa.success){aa.success.call(aa.context,L,"success",ag)}M.resolve(ag.responseText,"success",ag);if(S){a.event.trigger("ajaxSuccess",[ag,aa])}}else{if(aq){if(am===undefined){am=ag.statusText}if(aa.error){aa.error.call(aa.context,ag,aq,am)}M.reject(ag,"error",am);if(S){a.event.trigger("ajaxError",[ag,aa,am])}}}if(S){a.event.trigger("ajaxComplete",[ag,aa])}if(S&&!--a.active){a.event.trigger("ajaxStop")}if(aa.complete){aa.complete.call(aa.context,ag,aq)}G=true;if(aa.timeout){clearTimeout(ae)}setTimeout(function(){if(!aa.iframeTarget){k.remove()}ag.responseXML=null},100)}var af=a.parseXML||function(ai,ah){if(window.ActiveXObject){ah=new ActiveXObject("Microsoft.XMLDOM");ah.async="false";ah.loadXML(ai)}else{ah=(new DOMParser()).parseFromString(ai,"text/xml")}return(ah&&ah.documentElement&&ah.documentElement.nodeName!="parsererror")?ah:null};var Z=a.parseJSON||function(ah){return window["eval"]("("+ah+")")};var U=function(al,ak,aj){var ah=al.getResponseHeader("content-type")||"",am=ak==="xml"||!ak&&ah.indexOf("xml")>=0,ai=am?al.responseXML:al.responseText;if(am&&ai.documentElement.nodeName==="parsererror"){if(a.error){a.error("parsererror")}}if(aj&&aj.dataFilter){ai=aj.dataFilter(ai,ak)}if(typeof ai==="string"){if(ak==="json"||!ak&&ah.indexOf("json")>=0){ai=Z(ai)}else{if(ak==="script"||!ak&&ah.indexOf("javascript")>=0){a.globalEval(ai)}}}return ai};return M}};a.fn.ajaxForm=function(h){h=h||{};h.delegation=h.delegation&&a.isFunction(a.fn.on);if(!h.delegation&&this.length===0){var g={s:this.selector,c:this.context};if(!a.isReady&&g.s){f("DOM not ready, queuing ajaxForm");a(function(){a(g.s,g.c).ajaxForm(h)});return this}f("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}if(h.delegation){a(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,b).on("submit.form-plugin",this.selector,h,c).on("click.form-plugin",this.selector,h,b);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",h,c).bind("click.form-plugin",h,b)};function c(g){var h=g.data;if(!g.isDefaultPrevented()){g.preventDefault();a(this).ajaxSubmit(h)}}function b(h){var l=h.target;var g=a(l);if(!(g.is("[type=submit],[type=image]"))){var k=g.closest("[type=submit]");if(k.length===0){return}l=k[0]}var i=this;i.clk=l;if(l.type=="image"){if(h.offsetX!==undefined){i.clk_x=h.offsetX;i.clk_y=h.offsetY}else{if(typeof a.fn.offset=="function"){var j=g.offset();i.clk_x=h.pageX-j.left;i.clk_y=h.pageY-j.top}else{i.clk_x=h.pageX-l.offsetLeft;i.clk_y=h.pageY-l.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(x,l){var h=[];if(this.length===0){return h}var p=this[0];var m=x?p.getElementsByTagName("*"):p.elements;if(!m){return h}var q,s,w,y,k,u,t;for(q=0,u=m.length;q<u;q++){k=m[q];w=k.name;if(!w||k.disabled){continue}if(x&&p.clk&&k.type=="image"){if(p.clk==k){h.push({name:w,value:a(k).val(),type:k.type});h.push({name:w+".x",value:p.clk_x},{name:w+".y",value:p.clk_y})}continue}y=a.fieldValue(k,true);if(y&&y.constructor==Array){if(l){l.push(k)}for(s=0,t=y.length;s<t;s++){h.push({name:w,value:y[s]})}}else{if(d.fileapi&&k.type=="file"){if(l){l.push(k)}var o=k.files;if(o.length){for(s=0;s<o.length;s++){h.push({name:w,value:o[s],type:k.type})}}else{h.push({name:w,value:"",type:k.type})}}else{if(y!==null&&typeof y!="undefined"){if(l){l.push(k)}h.push({name:w,value:y,type:k.type,required:k.required})}}}}if(!x&&p.clk){var g=a(p.clk),r=g[0];w=r.name;if(w&&!r.disabled&&r.type=="image"){h.push({name:w,value:g.val()});h.push({name:w+".x",value:p.clk_x},{name:w+".y",value:p.clk_y})}}return h};a.fn.formSerialize=function(g){return a.param(this.formToArray(g))};a.fn.fieldSerialize=function(h){var g=[];this.each(function(){var l=this.name;if(!l){return}var m=a.fieldValue(this,h);if(m&&m.constructor==Array){for(var j=0,k=m.length;j<k;j++){g.push({name:l,value:m[j]})}}else{if(m!==null&&typeof m!="undefined"){g.push({name:this.name,value:m})}}});return a.param(g)};a.fn.fieldValue=function(k){for(var m=[],h=0,j=this.length;h<j;h++){var g=this[h];var l=a.fieldValue(g,k);if(l===null||typeof l=="undefined"||(l.constructor==Array&&!l.length)){continue}if(l.constructor==Array){a.merge(m,l)}else{m.push(l)}}return m};a.fieldValue=function(h,r){var m=h.name,s=h.type,u=h.tagName.toLowerCase();if(r===undefined){r=true}if(r&&(!m||h.disabled||s=="reset"||s=="button"||(s=="checkbox"||s=="radio")&&!h.checked||(s=="submit"||s=="image")&&h.form&&h.form.clk!=h||u=="select"&&h.selectedIndex==-1)){return null}if(u=="select"){var k=h.selectedIndex;if(k<0){return null}var g=[],q=h.options;var o=(s=="select-one");var l=(o?k+1:q.length);for(var j=(o?k:0);j<l;j++){var p=q[j];if(p.selected){var w=p.value;if(!w){w=(p.attributes&&p.attributes.value&&!(p.attributes.value.specified))?p.text:p.value}if(o){return w}g.push(w)}}return g}return a(h).val()};a.fn.clearForm=function(g){return this.each(function(){a("input,select,textarea",this).clearFields(g)})};a.fn.clearFields=a.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,j=this.tagName.toLowerCase();if(h.test(i)||j=="textarea"){this.value=""}else{if(i=="checkbox"||i=="radio"){this.checked=false}else{if(j=="select"){this.selectedIndex=-1}else{if(i=="file"){if(/MSIE/.test(navigator.userAgent)){a(this).replaceWith(a(this).clone(true))}else{a(this).val("")}}else{if(g){if((g===true&&/hidden/.test(i))||(typeof g=="string"&&a(this).is(g))){this.value=""}}}}}}})};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};a.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};a.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var i=this.type;if(i=="checkbox"||i=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var h=a(this).parent("select");if(g&&h[0]&&h[0].type=="select-one"){h.find("option").selected(false)}this.selected=g}}})};a.fn.ajaxSubmit.debug=false;function f(){if(!a.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}})(jQuery);